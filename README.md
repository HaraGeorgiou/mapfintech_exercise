# Java & PHP Sales Dashboard  

## Project Overview  
This project helps **Manufacturer X** track how sales are performing each quarter for three products across four continents.  

The work covers all required parts **plus optional features** for extra functionality:  
- **Sales data stored in MySQL** using a relational schema (Product, Continent, Sales).  
- **Java program (JDBC)** retrieves sales data from MySQL and exports it to a JSON file.  
- *(Optional)* **PHP dashboard** reads the JSON file and shows average quarterly sales on a chart.  
- *(Optional)* **REST API (SparkJava)** to serve live data to PHP for dynamic loading.  


## Requirements  
To run the project, you need:  
- **Java 17+**  
- **MySQL Server 8.0+**  
- **PHP 8.1+**  
- **Libraries** (included in `/lib`):  
  - MySQL Connector J  
  - Gson (JSON processing)  
  - SparkJava (only needed for the optional REST API)  


## Project Structure  

- `/src`: Java source files:  
   - `ExportSalesToJSON.java` → connects to MySQL, queries sales, writes JSON.  
   - `SalesRestServer.java` → optional REST API serving `/sales` endpoint.  

- `/lib`:  External libraries (MySQL Connector, Gson, SparkJava).  

- `/sales_data.json`: JSON file generated by the Java program.  

- `/index.php`: PHP dashboard to display interactive charts.  

- `mapfintech_exercise.sql`: MySQL database dump (schema + data).  


## (1) Setup Instructions  

### **Import the Database**
1. Open terminal (Ubuntu/WSL or native).  
2. Create the database and import the SQL dump:  
   ```bash
   mysql -u root -p
   CREATE DATABASE mapfintech_exercise;
   exit;
3. Import the SQL file:
   ```bash
    mysql -u root -p mapfintech_exercise < mapfintech_exercise.sql
   


   
## (2) Run the Java Export Program
1. Compile and run the Java program:
   ```bash
   cd /mnt/c/Users/georg/IdeaProjects/SalesToJSON/src
   javac -cp ".:../lib/*" ExportSalesToJSON.java
   java -cp ".:../lib/*" ExportSalesToJSON
This creates `sales_data.json` in the project folder.

## (3) Start the PHP Dashboard
1. Navigate to project folder:
   ```bash
   cd /mnt/c/Users/georg/IdeaProjects/SalesToJSON
   
2. Start PHP’s built-in server:
   ```bash
   php -S localhost:8000
3. Open http://localhost:8000/index.php in your browser.

## Features:
- Choose Product or Continent from dropdown.
- Select “All” to view averages across all.
- The chart updates dynamically.

## (Optional) Run REST API
If you want PHP to fetch data live from Java (instead of JSON file):
1. Compile & run the server:
    ```bash
   javac -cp ".:../lib/*" SalesRestServer.java
   java -cp ".:../lib/*" SalesRestServer
2. API is available at: http://localhost:4567/sales
3. Modify PHP to fetch from the API instead of reading JSON file.

## Deliverables
SQL Dump: mapfintech_exercise.sql (database schema + data)
Java Code: ExportSalesToJSON.java, SalesRestServer.java
PHP Code: index.php dashboard
Libraries: All .jar files in /lib
README.md: This documentation

## Notes & Limitations
- DB credentials are currently hardcoded for demo (adjust for deployment).
- REST API is optional – dashboard works from JSON file even if API isn’t running.
- SparkJava logs a harmless SLF4J warning if logging binding is not configured.

## Author
Developed by Hara Georgiou for the Java & PHP Integration Exercise (MAP FinTech project).
